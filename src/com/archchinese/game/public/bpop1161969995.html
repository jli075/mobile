var U=function(){var f;var g;var h={};h.runTimeCanvasWidth=function(){return f.sys.canvas.Width};h.runTimeCanvasHeight=function(){return f.sys.canvas.height};h.setMainGameScene=function(a){f=a};h.setGameOverScene=function(a){g=a};h.setGameVocabLists=function(a,b,c,d,e){f.setGameVocabLists(a,b,c,d,e)};h.setGameLeaderboard=function(a){g.setGameLeaderboard(a)};return h}();var V=function(){var k='0',l='1',m='balloonPop_controlOn',j='balloonPop_musicOn',n='balloonpop',i='gameGlass',h='gameHelp',f='gameOptions',d='gameOver',g='gameScene1',e='gameTitle';var c={};c.getGameOverId=function(){return d};c.getGameTitleId=function(){return e};c.getGameOptionsId=function(){return f};c.getGameSceneOneId=function(){return g};c.getGameHelpId=function(){return h};c.getGameGlassId=function(){return i};c.isMusicOn=function(){return fn_getLocal(j)!=k};c.setMusicOn=function(a){var b=a?l:k;fn_saveLocal(j,b)};c.isMobileControlOn=function(){return fn_getLocal(m)==l};c.setMobileControlOn=function(a){var b=a?l:k;fn_saveLocal(m,b)};c.getAsset=function(a){return fn_getAsset(n,a)};return c}();V.gameTitle=function(){var l='Help',k='Options',j='Start',g='background.jpg',h='button-bg.png',i='pointerup';var c=fn_createScene(V.getGameTitleId());function d(){c.scene.start(V.getGameGlassId());c.scene.sleep(V.getGameGlassId());c.scene.start(V.getGameSceneOneId());c.scene.moveAbove(V.getGameTitleId(),V.getGameSceneOneId());c.scene.moveAbove(V.getGameGlassId(),V.getGameSceneOneId())}
function e(){c.scene.start(V.getGameOptionsId());c.scene.stop(V.getGameTitleId())}
function f(){c.scene.start(V.getGameHelpId());c.scene.stop(V.getGameTitleId())}
c.init=function(){this.backgroundImgId=fn_createId();this.btnBackgroundImgId=fn_createId()};c.preload=function(){var a=V.getAsset(g);var b=fn_getUserBackgroundImageURL();if(b.length>0){this.load.image(this.backgroundImgId,b);this.userBackgroundImageUsed=true}else{this.load.image(this.backgroundImgId,a)}this.load.image(this.btnBackgroundImgId,V.getAsset(h))};c.create=function(){V.gameMaster.styleCanvas();fn_setBackground(this,this.backgroundImgId);this.startBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(1.15).setInteractive({useHandCursor:true}).on(i,d);fn_centerObject(this,this.startBtnBg,1.5);fn_nestedInCenter(fn_createTitlePageBtn(this,j,d),this.startBtnBg);this.optionsBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(1.15).setInteractive({useHandCursor:true}).on(i,e);fn_centerObject(this,this.optionsBtnBg,0);fn_nestedInCenter(fn_createTitlePageBtn(this,k,e),this.optionsBtnBg);this.helpBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(1.15).setInteractive({useHandCursor:true}).on(i,f);fn_centerObject(this,this.helpBtnBg,-1.5);fn_nestedInCenter(fn_createTitlePageBtn(this,l,f),this.helpBtnBg);fn_initPinyinFont(this)};c.update=function(){};return c}();V.gameHelp=function(){var i='#FFFF00',l='#FFFFFF',k='Design: Jario Technologies \nMusic: Clear Day from Bensound.com',n='Return',h='Welcome to Balloon Pop!\n\nPop the balloon matching the given terms. You can use the arrow keys to adjust your view position. The fastest time wins!\n\n\n\n',e='background.jpg',f='button-bg.png',j='center',g='frame.png',m='pointerup';function c(){d.scene.stop(V.getGameHelpId());d.scene.start(V.getGameTitleId())}
var d=fn_createScene(V.getGameHelpId());d.init=function(){this.backgroundImgId=fn_createId();this.btnBackgroundImgId=fn_createId();this.frameImgId=fn_createId()};d.preload=function(){var a=V.getAsset(e);var b=fn_getUserBackgroundImageURL();if(b.length>0){this.load.image(this.backgroundImgId,b);this.userBackgroundImageUsed=true}else{this.load.image(this.backgroundImgId,a)}this.load.image(this.btnBackgroundImgId,V.getAsset(f));this.load.image(this.frameImgId,V.getAsset(g))};d.create=function(){V.gameMaster.styleCanvas();fn_setBackground(this,this.backgroundImgId);this.helpTextBg=this.add.sprite(100,200,this.frameImgId).setScale(1.25);fn_centerObject(this,this.helpTextBg,1.5);var a=h;this.helpText=this.add.text(400,100,a,{fontFamily:fn_getEnglishFont(),fontSize:36,color:i,align:j,wordWrap:{width:700,useAdvancedWrap:true}});fn_nestedInCenter(this.helpText,this.helpTextBg);this.creditText=this.add.text(400,100,k,{fontFamily:fn_getEnglishFont(),fontSize:18,color:l,align:j,wordWrap:{width:700,useAdvancedWrap:true}});fn_nestedInCenter(this.creditText,this.helpTextBg);this.creditText.y+=250;this.returnBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(1.25).setInteractive({useHandCursor:true}).on(m,c);fn_centerObject(this,this.returnBtnBg,-4);fn_nestedInCenter(fn_createTitlePageBtn(this,n,c),this.returnBtnBg)};d.update=function(){};return d}();V.gameOptions=function(){var m='#FFFF00',k='Enable joystick for mobile devices',i='Enable sound',l='Return',e='background.jpg',f='button-bg.png',g='checkedCheckbox.png',n='left',j='pointerup',h='uncheckedCheckbox.png';function c(){d.scene.stop(V.getGameOptionsId());d.scene.start(V.getGameTitleId())}
var d=fn_createScene(V.getGameOptionsId());d.init=function(){this.backgroundImgId=fn_createId();this.btnBackgroundImgId=fn_createId();this.checkedCheckboxId=fn_createId();this.uncheckedCheckboxId=fn_createId();this.musicOn=V.isMusicOn();this.controlOn=V.isMobileControlOn()};d.preload=function(){var a=V.getAsset(e);var b=fn_getUserBackgroundImageURL();if(b.length>0){this.load.image(this.backgroundImgId,b);this.userBackgroundImageUsed=true}else{this.load.image(this.backgroundImgId,a)}this.load.image(this.btnBackgroundImgId,V.getAsset(f));this.load.image(this.checkedCheckboxId,V.getAsset(g));this.load.image(this.uncheckedCheckboxId,V.getAsset(h))};d.create=function(){V.gameMaster.styleCanvas();fn_setBackground(this,this.backgroundImgId);this.musicButton=this.add.image(0,0,this.checkedCheckboxId);this.musicButtonText=this.createLabel(i);fn_centerObject(this,this.musicButton,0.5);this.musicButton.x=this.musicButton.x-(this.musicButton.getBounds().width+this.musicButtonText.getBounds().width)/2;this.musicButtonText.y=this.musicButton.y-this.musicButton.getBounds().height/2;this.musicButtonText.x=this.musicButton.x+this.musicButton.getBounds().width+3;this.musicButton.setInteractive({useHandCursor:true}).on(j,function(){this.musicOn=!this.musicOn;this.updateOptions()},this);this.controlButton=this.add.image(0,0,this.checkedCheckboxId);this.controlButtonText=this.createLabel(k);fn_centerObject(this,this.controlButton,-0.5);this.controlButton.x=this.musicButton.x;this.controlButtonText.y=this.controlButton.y-this.controlButton.getBounds().height/2;this.controlButtonText.x=this.controlButton.x+this.controlButton.getBounds().width+3;this.controlButton.setInteractive({useHandCursor:true}).on(j,function(){this.controlOn=!this.controlOn;this.updateOptions()},this);this.updateOptions();this.returnBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(1.15).setInteractive({useHandCursor:true}).on(j,c);fn_centerObject(this,this.returnBtnBg,-4);fn_nestedInCenter(fn_createTitlePageBtn(this,l,c),this.returnBtnBg)};d.createLabel=function(a){return this.add.text(0,0,a,{fontFamily:fn_getEnglishFont(),fontSize:32,color:m,align:n})}.bind(d);d.updateOptions=function(){if(this.musicOn){this.musicButton.setTexture(this.checkedCheckboxId)}else{this.musicButton.setTexture(this.uncheckedCheckboxId)}V.setMusicOn(this.musicOn);this.musicButton.scale=1.8;if(this.controlOn){this.controlButton.setTexture(this.checkedCheckboxId)}else{this.controlButton.setTexture(this.uncheckedCheckboxId)}V.setMobileControlOn(this.controlOn);this.controlButton.scale=1.8}.bind(d);d.update=function(){};return d}();V.gameGlass=function(){var d='Resume',e='Stop',b='button-bg.png',c='pointerup';var a=fn_createScene(V.getGameGlassId());a.init=function(){this.btnBackgroundImgId=fn_createId()};a.preload=function(){this.load.image(this.btnBackgroundImgId,V.getAsset(b))};a.create=function(){this.resumeBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(0.5).setInteractive({useHandCursor:true}).on(c,this.resumeGame);this.resumeBtnBg.alpha=0.5;fn_centerObject(this,this.resumeBtnBg,-5);this.resumeBtnBg.x=this.sys.canvas.width-2*this.resumeBtnBg.getBounds().width-20+70;this.resumeBtn=fn_createBtn(this,d,24,this.resumeGame);this.resumeBtn.alpha=0.7;fn_nestedInCenter(this.resumeBtn,this.resumeBtnBg);this.stopBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(0.5).setInteractive({useHandCursor:true}).on(c,this.stopGame);this.stopBtnBg.alpha=0.5;fn_centerObject(this,this.stopBtnBg,-5);this.stopBtnBg.x=this.sys.canvas.width-this.stopBtnBg.getBounds().width-10+70;this.stopBtn=fn_createBtn(this,e,24,this.stopGame);this.stopBtn.alpha=0.7;fn_nestedInCenter(this.stopBtn,this.stopBtnBg)};a.resumeGame=function(){a.scene.sleep(V.getGameGlassId());a.scene.resume(V.getGameSceneOneId());a.scene.get(V.getGameSceneOneId()).enablePauseBtn()}.bind(a);a.stopGame=function(){a.scene.stop(V.getGameSceneOneId());a.scene.stop(V.getGameGlassId());a.scene.start(V.getGameOverId())}.bind(a);a.update=function(){};return a}();V.gameScene1=function(){var r='',H='0xFF0000',T=':',w='Cam3',M='Created By: ',R='Linear',N='Pause',O='Stop',S='Time: ',K='Time: 0',Q='Word Count: ',L='Word Count: 0',s='background.jpg',C='balloon.mp3',E='balloonr.png',F='balloony.png',t='button-bg.png',y='c3',x='camera.js',z='cameras3d',B='cheer.mp3',D='clearday.mp3',u='joystick.png',v='joystickthumb.png',A='pickup.mp3',I='pointerout',G='pointerover',J='pointerup',P='~';var q=fn_createScene(V.getGameSceneOneId());q.init=function(){this.sceneBackgroundImgId=fn_createId();this.btnBackgroundImgId=fn_createId();this.balloonRImgId=fn_createId();this.balloonYImgId=fn_createId();this.balloonAudioId=fn_createId();this.pickupAudioId=fn_createId();this.cheerAudioId=fn_createId();this.musicId=fn_createId();this.isSoundOn=V.isMusicOn();this.isMobile=fn_isMobile()||V.isMobileControlOn();if(this.isMobile){this.joyStickBaseImgId=fn_createId();this.joyStickThumbImgId=fn_createId()}this.totalTime=0;this.totalCount=0;this.collectedCount=0;this.firstRound=true;this.readyHandleNextClick=true;this.speed=10;var a=parseInt(fn_getDifficultyLevel());switch(a){case 0:this.speed=10;break;case 1:this.speed=15;break;case 2:this.speed=20;break;}this.balloons=[];this.unitWidth=fn_getCanvasWidth()/8;this.currentMatchType=fn_getGameMatchType();this.promptChinese=r;this.promptPinyin=r};q.preload=function(){if(this.isMobile){fn_loadJoyStick(this)}var a=V.getAsset(s);var b=fn_getUserBackgroundImageURL();if(b.length>0){this.load.image(this.sceneBackgroundImgId,b);this.userBackgroundImageUsed=true}else{this.load.image(this.sceneBackgroundImgId,a)}this.load.image(this.btnBackgroundImgId,this.getAsset(t));if(this.isMobile){this.load.image(this.joyStickBaseImgId,this.getAsset(u));this.load.image(this.joyStickThumbImgId,this.getAsset(v))}this.load.scenePlugin(w,x,y,z);if(this.isSoundOn){this.loadMusic(this.pickupAudioId,A);this.loadMusic(this.cheerAudioId,B);this.loadMusic(this.balloonAudioId,C);this.loadMusic(this.musicId,D)}this.load.image(this.balloonRImgId,this.getAsset(E));this.load.image(this.balloonYImgId,this.getAsset(F))};q.create=function(){if(this.isMobile){fn_createJoyStick(this,this.joyStickBaseImgId,this.joyStickThumbImgId)}fn_setToFullScreen(this);var a=this.add.image(fn_getCanvasWidth()/2,fn_getCanvasHeight()/2,this.sceneBackgroundImgId);a.setDisplaySize(this.sys.canvas.width,this.sys.canvas.height);a.setDepth(-99999);this.camera=this.cameras3d.add(80).setPosition(0,680,6800).setPixelScale(200);this.camera.y+=180;this.camera.x-=40;this.cursors=this.input.keyboard.createCursorKeys();if(this.isSoundOn){this.pickupSound=this.sound.add(this.pickupAudioId);this.cheerSound=this.sound.add(this.cheerAudioId);this.balloonSound=this.sound.add(this.balloonAudioId);this.music=fn_loopPlayMusic(this,this.musicId,fn_getBackgroundMusicVolume()*0.75)}this.setUpGameStatusLabels();fn_loadGameVocabListsByUUID()};q.update=function(){var a=this.cursors.left.isDown;var b=this.cursors.right.isDown;var c=this.cursors.up.isDown;var d=this.cursors.down.isDown;if(this.isMobile){a=this.cursors.left.isDown||this.joystick.left;b=this.cursors.right.isDown||this.joystick.right;c=this.cursors.up.isDown||this.joystick.up;d=this.cursors.down.isDown||this.joystick.down}if(a){if(this.camera.x>-4000){this.camera.x-=36}}else if(b){if(this.camera.x<4000){this.camera.x+=36}}if(c){if(this.camera.y>-2000){this.camera.y-=36}}else if(d){if(this.camera.y<2300){this.camera.y+=36}}for(var e=0;e<this.balloons.length;e++){var f=this.balloons[e];f.z+=this.speed;if(f.poppped){f.gameObject.angle+=Math.random()>0.5?15:-15;f.y-=100;if(f.gameObject.alpha>0.1){f.gameObject.alpha-=0.02}}if(f.z>this.camera.z-2){this.resetBalloon(f)}}this.camera.update()};q.createFrontText=function(){var a=this.chineseArray.shift();var b=this.pinyinArray.shift();var c=this.englishArray.shift();return fn_createFrontText(this,a,b,c,78,this.currentMatchType)}.bind(q);q.createBalloon=function(){var a=fn_getBatchSize();if(this.chineseArray.length==0||this.balloons.length==a){this.balloonReleaseTimer.paused=true}if(this.chineseArray.length==0&&(this.balloons.length==0&&!this.firstRound)){this.time.delayedCall(1000,this.navigateToGameOverScene,[],this);return}if(this.firstRound&&(this.chineseArray.length==0&&this.balloons.length==0)){this.currentMatchType=fn_getAlternativeMatchType(this.currentMatchType);this.firstRound=false;this.populateDataArray();this.balloonReleaseTimer.paused=false;return}if(this.chineseArray.length>0){var b=this.createFrontText();var c=fn_createId();var d=b.getBounds().width;var e=b.getBounds().height;var f=null;if(Math.random()>0.5){f=this.add.image(0,0,this.balloonRImgId);var g=[255,65280,16711680];if(Math.random()>0.5){f.setTint(g[Math.floor(Math.random()*g.length)])}}else{f=this.add.image(0,0,this.balloonYImgId);var g=[255,65280,65535,16776960];if(Math.random()>0.5){f.setTint(g[Math.floor(Math.random()*g.length)])}}var h=f.getBounds().width;var i=f.getBounds().height;var j=d>h?d:h;var k=i+e;var l=this.add.renderTexture(0,0,j*1.2,k*1.2);l.draw(f,j/2,i/2);l.draw(b,j/2,i+e/2-40);l.saveTexture(c);f.destroy();l.destroy();var m=this.getBalloonX();var n=-60;var o=this.getBalloonZ();var p=this.camera.create(m,n,o,c);p.gameObject.setInteractive({useHandCursor:true}).on(G,function(){p.gameObject.setTint(H)},this);p.gameObject.on(I,function(){p.gameObject.clearTint()},this);p.gameObject.on(J,function(){if(this.readyHandleNextClick){this.readyHandleNextClick=false;this.checkCorrect(p);if(!!!this.gameTimer){this.gameTimer=this.time.addEvent({delay:100,callback:this.updateTime,callbackScope:this,loop:true})}}},this);p.chinese=b.chinese;p.pinyin=b.pinyin;p.backText=b.backText;b.destroy();this.balloons.push(p);this.resetBalloon(p)}if(this.promptChinese.length==0){this.promptNextWord()}}.bind(q);q.resetBalloon=function(a){a.x=this.getBalloonX();a.z=this.getBalloonZ();a.gameObject.alpha=0.1;this.tweens.add({targets:a.gameObject,alpha:1,duration:1000,yoyo:false,repeat:0})}.bind(q);q.getBalloonX=function(){return Math.random()>0.5?fn_rand(-16,-6)*this.unitWidth:fn_rand(6,16)*this.unitWidth;}.bind(q);q.getBalloonZ=function(){return -6000-Math.random()*4000}.bind(q);q.getAsset=function(a){return V.getAsset(a)};q.loadMusic=function(a,b){this.load.audio(a,[this.getAsset(b)])}.bind(q);q.setUpGameStatusLabels=function(){this.timerText=fn_createStatusLabel(this,16,16,K);fn_createProgressBar(this,16,56,160,30);fn_updateProgressBar(this,0);this.titleText=fn_createStatusLabel(this,this.sys.canvas.width,16,r);this.wordCountText=fn_createStatusLabel(this,this.sys.canvas.width,56,L);this.creatorText=fn_createStatusLabel(this,this.sys.canvas.width,96,M);this.pauseBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(0.5).setInteractive({useHandCursor:true}).on(J,this.pauseGame);this.pauseBtnBg.alpha=0.5;fn_centerObject(this,this.pauseBtnBg,-5);this.pauseBtnBg.x=this.sys.canvas.width-2*this.pauseBtnBg.getBounds().width-20+70;this.pauseBtn=fn_createBtn(this,N,24,this.pauseGame);this.pauseBtn.alpha=0.7;fn_nestedInCenter(this.pauseBtn,this.pauseBtnBg);this.stopBtnBg=this.add.sprite(100,200,this.btnBackgroundImgId).setScale(0.5).setInteractive({useHandCursor:true}).on(J,this.navigateToGameOverScene);this.stopBtnBg.alpha=0.5;fn_centerObject(this,this.stopBtnBg,-5);this.stopBtnBg.x=this.sys.canvas.width-this.stopBtnBg.getBounds().width-10+70;this.stopBtn=fn_createBtn(this,O,24,this.navigateToGameOverScene);this.stopBtn.alpha=0.7;fn_nestedInCenter(this.stopBtn,this.stopBtnBg)}.bind(q);q.pauseGame=function(){q.scene.pause(V.getGameSceneOneId());q.scene.wake(V.getGameGlassId());q.scene.moveAbove(V.getGameSceneOneId(),V.getGameGlassId());if(this.isSoundOn){q.music.pause()}}.bind(q);q.enablePauseBtn=function(){q.pauseBtn.setText(N);fn_nestedInCenter(q.pauseBtn,q.pauseBtnBg);if(this.isSoundOn){q.music.resume()}};q.populateDataArray=function(){this.chineseArray=this.chineseArrayStr.split(P);this.pinyinArray=this.pinyinArrayStr.split(P);this.englishArray=this.englishArrayStr.split(P);this.imgURLArray=this.imgURLArrayStr.split(P)}.bind(q);q.setGameVocabLists=function(a,b,c,d,e){this.chineseArrayStr=b;this.pinyinArrayStr=c;this.englishArrayStr=d;this.imgURLArrayStr=e;this.populateDataArray();this.totalCount=this.chineseArray.length+this.chineseArray.length;this.updateListName(a);this.wordCountText.setText(Q+this.chineseArray.length);this.wordCountText.x=this.sys.canvas.width-this.wordCountText.getBounds().width-20;this.shuffleChinesePinyinEnglishImgArrays();var f=1000;var g=parseInt(fn_getDifficultyLevel());switch(g){case 0:f=3000;break;case 1:f=1500;break;case 2:f=1000;break;}this.balloonReleaseTimer=this.time.addEvent({delay:f,callback:this.createBalloon,callbackScope:this,loop:true})}.bind(q);q.promptNextWord=function(){if(this.chineseArray.length==0&&(this.balloons.length==0&&!this.firstRound)){this.time.delayedCall(1000,this.navigateToGameOverScene,[],this);return}if(this.balloons.length==0){return}var a=Math.floor(Math.random()*this.balloons.length);var b=this.balloons[a];this.promptChinese=b.chinese;var c=b.backText;c.setInteractive({useHandCursor:true}).on(J,function(){if(this.isSoundOn){fn_playWordSound(this.promptChinese,this.promptPinyin)}},this).on(G,function(){c.setStyle({fill:fn_getGameTextColor()});c.scale=1.05},this).on(I,function(){c.setStyle({fill:fn_getGameVisitedTextColor()});c.scale=1},this);c.setDepth(-66666);fn_centerObject(this,c,-4);c.setVisible(true);c.alpha=0.1;this.tweens.add({targets:c,alpha:1,duration:1000,yoyo:false,repeat:0});this.promptLabel=c}.bind(q);q.shuffleChinesePinyinEnglishImgArrays=function(){var a=fn_syncShuffle([this.chineseArray,this.pinyinArray,this.englishArray,this.imgURLArray]);this.chineseArray=a[0];this.pinyinArray=a[1];this.englishArray=a[2];this.imgURLArray=a[3]}.bind(q);q.proessMatch=function(a){fn_removeElement(this.balloons,a);this.camera.remove(a);a.gameObject.destroy();a.destroy();this.promptChinese=r;this.promptPinyin=r;fn_destroy(this.promptLabel);this.collectedCount+=1;this.updateProgress();var b=parseInt(fn_getDifficultyLevel());switch(b){case 0:if(this.speed<15){this.speed+=0.1}break;case 1:if(this.speed<20){this.speed+=0.2}break;case 2:if(this.speed<30){this.speed+=0.25}break;}this.readyHandleNextClick=true;this.createBalloon()}.bind(q);q.checkCorrect=function(a){if(this.promptChinese==a.chinese){if(this.isSoundOn){fn_playSound(this.balloonSound,fn_getBackgroundMusicVolume(),false)}a.poppped=true;this.time.delayedCall(1500,this.proessMatch,[a],this)}else{if(this.isSoundOn){fn_playSound(this.pickupSound,fn_getBackgroundMusicVolume(),false)}this.readyHandleNextClick=true;this.tweens.add({targets:a,x:a.x+Math.random()>0.5?10:-10,y:a.y+Math.random()>0.5?10:-10,duration:2000,ease:R,yoyo:true,repeat:0,onComplete:function(){}.bind(this)})}}.bind(q);q.updateTime=function(){this.totalTime+=1;this.timerText.setText(S+fn_formatSeconds(Math.floor(this.totalTime/10))+T+this.totalTime%10)}.bind(q);q.updateListName=function(a){this.titleText.setText(a);this.titleText.x=this.sys.canvas.width-this.titleText.getBounds().width-16;this.creatorText.setText(M+fn_getCreator());this.creatorText.x=this.sys.canvas.width-this.creatorText.getBounds().width-16}.bind(q);q.updateProgress=function(){if(this.totalCount>0){var a=this.collectedCount/this.totalCount;fn_updateProgressBar(this,a)}}.bind(q);q.navigateToGameOverScene=function(){if(this.chineseArray.length>0||this.balloons.length>0){this.totalTime=0}else{if(this.isSoundOn){fn_playSound(this.cheerSound,fn_getBackgroundMusicVolume(),false)}}if(this.isSoundOn){q.music.pause()}q.scene.stop(V.getGameSceneOneId());q.scene.stop(V.getGameGlassId());q.scene.start(V.getGameOverId())}.bind(q);return q}();V.gameOver=function(){var e='#000000',d='button-bg.png';var c=fn_createScene(V.getGameOverId());c.init=function(){this.btnBackgroundImgId=fn_createId()};c.preload=function(){this.load.image(this.btnBackgroundImgId,V.getAsset(d))};c.create=function(){fn_stopFullScreen(this);var a=fn_createId();fn_createGradient(this,a,e,e);fn_setBackground(this,a);fn_centerObject(this,fn_createGameOverLabel(this),3);var b=V.gameScene1.totalTime;if(b>0){this.finalTime=fn_formatMilliSeconds(V.gameScene1.totalTime);fn_centerObject(this,fn_createFinalTimeLabel(this,this.finalTime),2)}fn_createPlayAgainBtn(this,this.btnBackgroundImgId);if(fn_isInternetExplorer()){}else{fn_loadGameLeaderboard()}};c.update=function(){};c.setGameLeaderboard=function(a){fn_showTimeLeaderboard(this,a,V.gameScene1.totalTime,document)}.bind(c);return c}();V.gameMaster=function(){function b(){var a=fn_getConfig();a.scene.push(V.gameTitle);a.scene.push(V.gameHelp);a.scene.push(V.gameOptions);a.scene.push(V.gameGlass);a.scene.push(V.gameScene1);a.scene.push(V.gameOver);a.physics.arcade.gravity.y=0;return a}
U.setMainGameScene(V.gameScene1);U.setGameOverScene(V.gameOver);var c={};c.game=fn_createGame(b());fn_registerDataAgent(U);c.styleCanvas=function(){fn_styleCanvas(this.game)};return c}();